Suppose we have:
1) A polygon defining a river network
2) A set of polygons defining potential storage areas

Then, we would like to
a) Take a difference of 2 with 1, so now the storage areas do not contain channels
b) Compute stage-volume relations for all of these storage areas
c) Write out in the appropriate form for hec-ras
d) Automatically make storage area connections based on the connected boundaries
e) Automatically make lateral weirs based on the connections of the storage areas and the channels

# Idea of code

chan_poly='my_chan.shp'
stor_poly='my_store.shp'

stor_nochan=diff(stor_poly,chan_poly)

for i in store_nochan{
    compute_stage-volume relation    
    append hec-hms output form to txt file
}

# Then,
# use that code to find polygon neighbours
# of a polygon which is the union of the channel and store_nochan polygons


for each neighbour{
    find polygon shared boundary
    Compute elevation-width on this boundary
    if(both are storage_areas){
        write storage area connection to text file
    }else{
        write lateral weir connection to file
    }
}


